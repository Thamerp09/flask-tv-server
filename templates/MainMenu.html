<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Thamer // Cosmic Hub</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Exo+2:wght@300;500;700&display=swap" rel="stylesheet">
    <!-- لا حاجة لملف JS خارجي، الكود مدمج في الأسفل -->
    <style>
        /* --- CSS VARIABLES --- */
        :root {
            --bg-color: #020010;
            --text-primary: #eaf8ff;
            --text-secondary: #a8c8ff;
            --card-bg: rgba(20, 28, 60, 0.4);
            --card-border: rgba(100, 150, 255, 0.3);
            --card-glow: rgba(150, 200, 255, 0.7);
        }

        /* --- GLOBAL RESETS & BASE STYLES --- */
        *, *::before, *::after {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
        }

        body {
            font-family: 'Exo 2', sans-serif;
            background-color: var(--bg-color);
            color: var(--text-primary);
            height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            overflow: hidden;
            cursor: grab;
        }
        body.grabbing {
            cursor: grabbing;
        }

        /* --- STARRY BACKGROUND --- */
        .stars {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-image:
                radial-gradient(1px 1px at 20px 30px, #eee, rgba(0,0,0,0)),
                radial-gradient(1px 1px at 40px 70px, #fff, rgba(0,0,0,0)),
                radial-gradient(1px 1px at 50px 160px, #ddd, rgba(0,0,0,0)),
                radial-gradient(1px 1px at 90px 40px, #fff, rgba(0,0,0,0)),
                radial-gradient(2px 2px at 130px 80px, #fff, rgba(0,0,0,0)),
                radial-gradient(1px 1px at 160px 120px, #ddd, rgba(0,0,0,0));
            background-repeat: repeat;
            background-size: 200px 200px;
            animation: twinkle 5s infinite linear;
            z-index: -1;
        }
        
        @keyframes twinkle {
            from { transform: translateX(0); }
            to { transform: translateX(-200px); }
        }

        /* --- HEADER TEXT --- */
        .header-text {
            position: absolute;
            top: 15%;
            left: 50%;
            transform: translateX(-50%);
            text-align: center;
            z-index: 10;
        }
        h1 {
            font-size: clamp(2rem, 5vw, 3rem);
            font-weight: 700;
            letter-spacing: 2px;
            text-shadow: 0 0 15px var(--card-glow);
        }
        p {
            font-size: clamp(0.9rem, 2vw, 1.1rem);
            color: var(--text-secondary);
            font-weight: 300;
        }


        /* --- 3D SCENE & CAROUSEL --- */
        .scene {
            width: 300px;
            height: 200px;
            perspective: 1200px;
            position: relative;
        }

        .carousel {
            width: 100%;
            height: 100%;
            position: absolute;
            transform-style: preserve-3d;
            transition: transform 0.5s cubic-bezier(0.25, 1, 0.5, 1);
        }

        .card {
            position: absolute;
            width: 300px;
            height: 200px;
            left: 0; top: 0;
            
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            gap: 0.5rem;
            
            text-align: center;
            text-decoration: none;
            color: var(--text-primary);
            
            background: var(--card-bg);
            border: 1px solid var(--card-border);
            border-radius: 12px;
            backdrop-filter: blur(8px);
            -webkit-backdrop-filter: blur(8px);
            
            box-shadow: 0 0 20px rgba(0,0,0,0.5);
            transition: transform 0.5s ease, box-shadow 0.5s ease;
            -webkit-box-reflect: below 10px linear-gradient(transparent, transparent, #0004);
        }

        .card:hover {
            transform: translateZ(10px) scale(1.05) !important;
            box-shadow: 0 0 30px var(--card-glow);
        }

        .card-title {
            font-size: 1.75rem;
            font-weight: 700;
        }
        .card-desc {
            font-size: 0.9rem;
            color: var(--text-secondary);
            max-width: 80%;
        }

    </style>
</head>
<body>
    <div class="stars"></div>

    <header class="header-text">
        <h1>Thamer's Projects</h1>
        <p>Drag to explore the collection</p>
    </header>

    <div class="scene">
        <div class="carousel">
            <!-- Projects will be dynamically added here by JS -->
            <a href="https://chat-6ivt.onrender.com" class="card">
                <h3 class="card-title">TChat</h3>
                <p class="card-desc">A real-time chat application.</p>
            </a>
            <a href="http://100.76.175.121:32400" class="card">
                <h3 class="card-title">Plex Media</h3>
                <p class="card-desc">Personal media library streaming.</p>
            </a>
            <a href="{{ url_for('tv_control_page') }}" class="card">
                <h3 class="card-title">TV Control</h3>
                <p class="card-desc">Remote control web interface.</p>
            </a>
            <a href="{{ url_for('currency_converter_page') }}" class="card">
                <h3 class="card-title">Converter</h3>
                <p class="card-desc">Currency exchange rate tool.</p>
            </a>
            <a href="http://100.76.175.121:9191/home" class="card">
                <h3 class="card-title">Rent Tracker</h3>
                <p class="card-desc">Manage rental payments.</p>
            </a>
            <a href="http://100.76.175.121:9090" class="card">
                <h3 class="card-title">Server Panel</h3>
                <p class="card-desc">System control dashboard.</p>
            </a>
             <a href="http://100.76.175.121" class="card">
                <h3 class="card-title">Open Savings</h3>
                <p class="card-desc">Personal finance tracker.</p>
            </a>
        </div>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const carousel = document.querySelector('.carousel');
            const cards = document.querySelectorAll('.card');
            const numCards = cards.length;
            const angle = 360 / numCards;
            const radius = 350; // Adjust this to change the circle size

            // Position cards in a 3D circle
            cards.forEach((card, i) => {
                const rotateY = i * angle;
                card.style.transform = `rotateY(${rotateY}deg) translateZ(${radius}px)`;
            });

            // Drag to rotate logic
            let isMouseDown = false;
            let startX;
            let currentRotation = 0;
            let targetRotation = 0;
            let velocity = 0;
            const friction = 0.95; // Higher value = less friction

            const getEventX = (e) => e.touches ? e.touches[0].clientX : e.clientX;

            const onPointerDown = (e) => {
                isMouseDown = true;
                document.body.classList.add('grabbing');
                startX = getEventX(e) - targetRotation; // Use targetRotation to continue from where it stopped
                cancelAnimationFrame(animationFrameId);
            };

            const onPointerMove = (e) => {
                if (!isMouseDown) return;
                e.preventDefault();
                const x = getEventX(e);
                targetRotation = x - startX;
            };

            const onPointerUp = () => {
                isMouseDown = false;
                document.body.classList.remove('grabbing');
                startAnimation();
            };
            
            let animationFrameId;
            const animate = () => {
                velocity = (targetRotation - currentRotation) * 0.05;
                currentRotation += velocity;
                
                carousel.style.transform = `rotateY(${currentRotation}deg)`;
                
                if (Math.abs(targetRotation - currentRotation) > 0.01 || isMouseDown) {
                     animationFrameId = requestAnimationFrame(animate);
                } else {
                    cancelAnimationFrame(animationFrameId);
                }
            };
            
            const startAnimation = () => {
                if (animationFrameId) cancelAnimationFrame(animationFrameId);
                animationFrameId = requestAnimationFrame(animate);
            }

            // Mouse Events
            document.addEventListener('mousedown', onPointerDown);
            document.addEventListener('mousemove', onPointerMove);
            document.addEventListener('mouseup', onPointerUp);
            document.addEventListener('mouseleave', onPointerUp);

            // Touch Events
            document.addEventListener('touchstart', onPointerDown);
            document.addEventListener('touchmove', onPointerMove);
            document.addEventListener('touchend', onPointerUp);

            startAnimation(); // Initial animation call
        });
    </script>
</body>
</html>